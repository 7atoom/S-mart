<div class="flex items-center justify-center gap-2 mb-10">
  @for (s of steps; track s.key; let i = $index) {
    <div class="flex items-center gap-2">
      <div
        class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-sans font-medium transition-colors warm-shadow"
        [ngClass]="
          i <= currentStepIndex
            ? 'bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))]'
            : 'bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))]'
        "
      >
        @switch (s.key) {
          @case ('shipping') {
            <lucide-icon [img]="MapPin" [size]="16"></lucide-icon>
          }
          @case ('payment') {
            <lucide-icon [img]="CreditCard" [size]="16"></lucide-icon>
          }
          @case ('confirmation') {
            <lucide-icon [img]="CheckCircle2" [size]="16"></lucide-icon>
          }
        }

        <span class="hidden sm:inline">{{ s.label }}</span>
      </div>

      <!-- Connector -->
      @if (i < steps.length - 1) {
        <div
          class="w-8 h-0.5 transition-colors"
          [ngClass]="i < currentStepIndex ? 'bg-[hsl(var(--primary))]' : 'bg-[hsl(var(--border))]'"
        ></div>
      }
    </div>
  }
</div>
